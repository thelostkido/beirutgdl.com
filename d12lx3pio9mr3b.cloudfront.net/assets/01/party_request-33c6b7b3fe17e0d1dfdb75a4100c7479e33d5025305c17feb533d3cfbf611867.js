if(TS==undefined)var TS={};$(function(){TS.party_request.init()}),TS.party_request={init:function(){TS.date_helper.init_date_picker("#lead_event_date",{minDate:new Date,numberOfMonths:1});var e=$("#lead_start_time");e.timeselect({twenty_four_hour_time:TS.date_helper.twenty_four_hour_time}),$("#lead_end_time").timeselect({link:e,twenty_four_hour_time:TS.date_helper.twenty_four_hour_time}),$("#lead_referral_source_id").change(TS.party_request.toggle_other_referral_text),$("#lead_event_style").change(TS.party_request.check_lead_event_style),TS.party_request.check_lead_event_style()},toggle_other_referral_text:function(){var e=$(this).find(":selected");$("#other_referral_text").toggle(e.data("use_details"))},check_lead_event_style:function(){var e=$("#lead_event_style").val(),t=$("#lead_end_time"),_=$("#lead_event_description");"dropoff"===e||"catering"===e?($("#lead_form_delivery_info").show(),t.closest(".form-group").hide(),TS.party_request.save_and_clear_val(t),_.closest(".form-group").hide(),TS.party_request.save_and_clear_val(_),$("#lead_form_event_header").text("Your Event Details"),$("#event_date_label").text("Date"),$("#start_time_label").text("Time")):"pickup"===e?($("#lead_form_delivery_info").hide(),t.closest(".form-group").hide(),TS.party_request.save_and_clear_val(t),_.closest(".form-group").hide(),TS.party_request.save_and_clear_val(_),$("#lead_form_event_header").text("Your Pickup Details"),$("#event_date_label").text("Date"),$("#start_time_label").text("Time")):($("#lead_form_delivery_info").hide(),t.closest(".form-group").show(),TS.party_request.restore_saved_value(t),_.closest(".form-group").show(),TS.party_request.restore_saved_value(_),$("#lead_form_event_header").text("Your Event Details"),$("#event_date_label").text("Event Date"),$("#start_time_label").text("Start Time"))},save_and_clear_val:function(e){var t=e.val();t!==undefined&&null!==t&&""!==t&&e.data("previous-value",t),e.val("")},restore_saved_value:function(e){var t=e.data("previous-value");t!==undefined&&null!==t&&""!==t&&e.val(t)}};